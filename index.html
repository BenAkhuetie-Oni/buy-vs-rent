<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Buy vs Rent Calculator — AI Made Me Wealthy</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3R1KF7GYGF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3R1KF7GYGF');
  </script>

  <!-- Chart.js for interactive line chart (works on GitHub Pages) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>

<body>
  <header class="wrap header">
    <div class="brand">
      <div class="brandText">
        <div class="title">Buy vs Rent Calculator</div>
        <div class="subtitle">
          Made by <a class="link" href="https://AIMadeMeWealthy.com" target="_blank" rel="noopener">AIMadeMeWealthy.com</a>
          · Net Worth Impact = Equity − Out-of-Pocket
        </div>
      </div>

      <div class="topCta">
        <a class="ctaLink" href="https://AIMadeMeWealthy.com" target="_blank" rel="noopener">
          Visit AIMadeMeWealthy.com →
        </a>
      </div>
    </div>

    <p class="disclaimer">
      Educational tool. Not financial advice. Assumes standard deduction (tax impacts excluded for simplicity).
    </p>
  </header>

  <main class="wrap grid">
    <!-- LEFT COLUMN -->
    <div class="col">
      <!-- Required inputs -->
      <section class="card">
        <h2>Required inputs</h2>

        <div class="grid2">
          <label>
            Home price
            <input id="homePrice" type="number" min="0" step="1000" placeholder="450000" />
          </label>

          <label>
            Monthly rent (comparable home)
            <input id="monthlyRent" type="number" min="0" step="50" placeholder="2600" />
          </label>

          <label>
            Mortgage rate (APR %)
            <input id="mortgageRate" type="number" min="0" step="0.01" placeholder="6.75" />
          </label>

          <label>
            Down payment (%)
            <input id="downPct" type="number" min="0" max="100" step="0.1" placeholder="10" />
          </label>

          <label>
            Years lived in home
            <input id="years" type="number" min="1" max="50" step="1" placeholder="10" />
          </label>
        </div>

        <div class="actions">
          <button id="calcBtn" class="primary">Calculate</button>
          <button id="resetBtn" class="secondary">Reset</button>
        </div>

        <!-- Collapsed by default: removed "open" -->
        <details class="accordion">
          <summary>Optional assumptions</summary>

          <div class="grid2 padtop">
            <label>
              Mortgage term (years)
              <input id="termYears" type="number" min="5" max="40" step="1" value="30" />
            </label>

            <label>
              Home value appreciation (% / yr)
              <input id="homeAppreciation" type="number" min="-20" max="50" step="0.1" value="3.0" />
            </label>

            <label>
              Rent inflation (% / yr)
              <input id="rentInflation" type="number" min="-20" max="50" step="0.1" value="3.0" />
            </label>

            <label>
              Inflation for other costs (% / yr)
              <input id="costInflation" type="number" min="-20" max="50" step="0.1" value="3.0" />
            </label>

            <label>
              Return on reinvested cash (% / yr)
              <input id="investReturn" type="number" min="-50" max="50" step="0.1" value="7.0" />
            </label>

            <label>
              Property tax rate (% of home value / yr)
              <input id="propTaxRate" type="number" min="0" max="10" step="0.01" value="1.10" />
            </label>

            <label>
              Home insurance (% of home value / yr)
              <input id="homeInsRate" type="number" min="0" max="10" step="0.01" value="0.35" />
            </label>

            <label>
              PMI rate (% of original loan / yr) if &lt;20% down
              <input id="pmiRate" type="number" min="0" max="5" step="0.01" value="0.70" />
            </label>

            <label>
              Purchase closing costs (% of home price)
              <input id="buyClosePct" type="number" min="0" max="10" step="0.1" value="3.0" />
            </label>

            <label>
              Sale closing costs (% of sale price)
              <input id="sellClosePct" type="number" min="0" max="15" step="0.1" value="6.0" />
            </label>

            <label>
              Repairs & maintenance (% of home value / yr)
              <input id="maintRate" type="number" min="0" max="10" step="0.01" value="1.00" />
            </label>

            <label>
              Capital expenditures (% of home value / yr)
              <input id="capexRate" type="number" min="0" max="10" step="0.01" value="0.50" />
            </label>

            <label>
              Monthly utilities (buy)
              <input id="utilBuy" type="number" min="0" step="10" value="250" />
            </label>

            <label>
              Monthly utilities (rent)
              <input id="utilRent" type="number" min="0" step="10" value="250" />
            </label>

            <label>
              Renter’s insurance (monthly)
              <input id="rentersIns" type="number" min="0" step="1" value="15" />
            </label>
          </div>

          <p class="note">
            PMI automatically stops once Loan-to-Value ≤ 80% (based on current home value).
            Mortgage principal/interest is fixed; other costs inflate at “Inflation for other costs”.
          </p>
        </details>
      </section>

      <!-- ConvertKit form bubble -->
      <section class="card">
        <div class="ckBlock">
          <div class="ckEmbed">
            <script async data-uid="eeff810649" src="https://debtfreedoors.kit.com/eeff810649/index.js"></script>
          </div>
        </div>
      </section>
    </div>

    <!-- RIGHT COLUMN -->
    <section class="card">
      <h2>Results</h2>

      <div id="resultTop" class="resultTop muted">
        Enter inputs and click <b>Calculate</b>.
      </div>

      <div class="pillRow">
        <div class="pill" id="recPill">—</div>
        <div class="pill soft" id="diffPill">—</div>
      </div>

      <div class="chartCard">
        <div class="chartHeader">
          <div>
            <div class="chartTitle">Net Worth Impact over time</div>
            <div class="chartSub">Hover to inspect each year. Breakeven shown when lines cross.</div>
          </div>
          <div class="breakeven" id="breakevenText">Breakeven: —</div>
        </div>

        <div class="chartWrap">
          <canvas id="nwiChart" aria-label="Net Worth Impact chart" role="img"></canvas>
        </div>
      </div>

      <div class="tableWrap">
        <table id="resultsTable" class="hidden">
          <thead>
            <tr>
              <th>Year</th>
              <th>Better</th>
              <th>Buy NWI</th>
              <th>Rent NWI</th>
              <th>Diff (Buy − Rent)</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
      </div>

      <div class="actions">
        <button id="csvBtn" class="secondary" disabled>Download CSV</button>
      </div>

      <!-- Methodology already collapsed by default (no "open") -->
      <details class="accordion">
        <summary>Methodology (high level)</summary>
        <div class="padtop small">
          <ul>
            <li><b>Out-of-pocket</b> includes monthly costs plus purchase + sale closing costs and the down payment cash outlay.</li>
            <li><b>Equity (buy)</b> = down payment + principal paid + home appreciation + invested monthly savings if buying is cheaper.</li>
            <li><b>Equity (rent)</b> = invested monthly savings if renting is cheaper.</li>
            <li><b>Net Worth Impact</b> = Equity − Out-of-pocket (reported by year, including year 0).</li>
          </ul>
        </div>
      </details>
    </section>
  </main>

  <footer class="wrap footer">
    <span>© <span id="yearNow"></span> <a class="link" href="https://AIMadeMeWealthy.com" target="_blank" rel="noopener">AI Made Me Wealthy</a></span>
   </footer>

  <script src="script.js"></script>
</body>
</html>
